{% extends "base.html" %} {% block title %}{{ product.product_name }} - Product
Details{% endblock %} {% block content %}

<div class="container-fluid">
  <!-- Product Detail Header -->
  <div
    class="product-header bg-gradient-primary text-white py-4 rounded-3 mb-4"
  >
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-8">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-2">
              <li class="breadcrumb-item">
                <a href="{{ url_for('index') }}" class="text-white-50">Home</a>
              </li>
              <li class="breadcrumb-item">
                <a href="#" class="text-white-50">{{ product.category }}</a>
              </li>
              <li class="breadcrumb-item active text-white" aria-current="page">
                {{ product.product_name }}
              </li>
            </ol>
          </nav>
          <h1 class="display-6 fw-bold mb-2">{{ product.product_name }}</h1>
          <p class="lead mb-0">{{ product.brand }} • {{ product.category }}</p>
        </div>
        <div class="col-md-4 text-md-end">
          <div class="product-badges">
            <span class="badge bg-white bg-opacity-50 text-success fs-6 me-2">
              <i class="fas fa-star me-1"></i>Featured
            </span>
            <span class="badge bg-info bg-opacity-25 text-info fs-6">
              <i class="fas fa-bolt me-1"></i>Popular
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <!-- Product Main Section -->
    <div class="col-lg-8">
      <div class="card border-0 shadow-hover mb-4">
        <div class="card-body p-4">
          <div class="row">
            <!-- Product Image Gallery -->
            <div class="col-md-6">
              <div class="product-gallery">
                <div class="main-image mb-3">
                  <div
                    class="product-image-placeholder bg-light rounded-3 d-flex align-items-center justify-content-center"
                    style="height: 300px"
                  >
                    <i class="fas fa-box-open fa-5x text-muted opacity-25"></i>
                  </div>
                </div>
                <div class="image-thumbnails d-flex gap-2">
                  <div
                    class="thumbnail active bg-light rounded-2 p-2"
                    style="width: 60px; height: 60px"
                  >
                    <i
                      class="fas fa-box text-muted d-flex align-items-center justify-content-center h-100"
                    ></i>
                  </div>
                  <div
                    class="thumbnail bg-light rounded-2 p-2"
                    style="width: 60px; height: 60px"
                  >
                    <i
                      class="fas fa-image text-muted d-flex align-items-center justify-content-center h-100"
                    ></i>
                  </div>
                  <div
                    class="thumbnail bg-light rounded-2 p-2"
                    style="width: 60px; height: 60px"
                  >
                    <i
                      class="fas fa-cube text-muted d-flex align-items-center justify-content-center h-100"
                    ></i>
                  </div>
                </div>
              </div>
            </div>

            <!-- Product Details -->
            <div class="col-md-6">
              <div class="product-details">
                <!-- Rating and Reviews -->
                <div class="rating-section mb-4">
                  <div class="d-flex align-items-center mb-2">
                    <div class="star-rating me-3">
                      {% for i in range(5) %} {% if i < product.rating|int %}
                      <i class="fas fa-star text-warning"></i>
                      {% else %}
                      <i class="far fa-star text-warning"></i>
                      {% endif %} {% endfor %}
                    </div>
                    <span class="h5 fw-bold text-dark mb-0"
                      >{{ product.rating }}/5</span
                    >
                  </div>
                  <small class="text-muted">
                    <i class="fas fa-user me-1"></i>Based on 128+ reviews
                  </small>
                </div>

                <!-- Pricing -->
                <div class="pricing-section mb-4">
                  <h2 class="text-primary fw-bold mb-2">
                    ₹{{ "%.2f"|format(product.price) }}
                  </h2>
                  {% if product.discount and product.discount > 0 %}
                  <div class="d-flex align-items-center gap-2">
                    <span class="text-danger text-decoration-line-through fs-5">
                      ₹{{ "%.2f"|format(product.price * (1 +
                      product.discount/100)) }}
                    </span>
                    <span class="badge bg-danger fs-6"
                      >{{ product.discount }}% OFF</span
                    >
                    <small class="text-success">
                      <i class="fas fa-tag me-1"></i>Great deal!
                    </small>
                  </div>
                  {% endif %}
                  <small class="text-muted">Inclusive of all taxes</small>
                </div>

                <!-- Availability -->
                <div class="availability-section mb-4">
                  <div class="d-flex align-items-center mb-2">
                    <i class="fas fa-check-circle text-success me-2"></i>
                    <span class="fw-semibold">In Stock</span>
                    <span
                      class="badge bg-success bg-opacity-10 text-success ms-2"
                      >Ready to Ship</span
                    >
                  </div>
                  <small class="text-muted"
                    >Usually ships within 2-3 business days</small
                  >
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons mb-4">
                  <div class="d-flex flex-column flex-sm-row gap-2">
                    <button class="btn btn-primary btn-lg flex-fill py-3">
                      <i class="fas fa-shopping-cart me-2"></i>Add to Cart
                    </button>
                    <button
                      class="btn btn-outline-primary btn-lg flex-fill py-3"
                    >
                      <i class="fas fa-bolt me-2"></i>Buy Now
                    </button>
                  </div>
                  <div class="d-flex gap-2 mt-2">
                    <button class="btn btn-outline-secondary btn-sm flex-fill">
                      <i class="fas fa-heart me-1"></i>Add to Wishlist
                    </button>
                    <button class="btn btn-outline-secondary btn-sm flex-fill">
                      <i class="fas fa-share-alt me-1"></i>Share
                    </button>
                  </div>
                </div>

                <!-- Quick Features -->
                <div class="quick-features">
                  <div class="row g-2">
                    <div class="col-6">
                      <div
                        class="feature-item text-center p-2 bg-light rounded-2"
                      >
                        <i class="fas fa-shield-alt text-primary mb-1"></i>
                        <small class="d-block">1 Year Warranty</small>
                      </div>
                    </div>
                    <div class="col-6">
                      <div
                        class="feature-item text-center p-2 bg-light rounded-2"
                      >
                        <i class="fas fa-truck text-success mb-1"></i>
                        <small class="d-block">Free Delivery</small>
                      </div>
                    </div>
                    <div class="col-6">
                      <div
                        class="feature-item text-center p-2 bg-light rounded-2"
                      >
                        <i class="fas fa-undo text-info mb-1"></i>
                        <small class="d-block">7-Day Return</small>
                      </div>
                    </div>
                    <div class="col-6">
                      <div
                        class="feature-item text-center p-2 bg-light rounded-2"
                      >
                        <i class="fas fa-headset text-warning mb-1"></i>
                        <small class="d-block">24/7 Support</small>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Product Description & Details -->
      <div class="card border-0 shadow-hover">
        <div class="card-header bg-transparent border-0 py-3">
          <ul
            class="nav nav-tabs card-header-tabs"
            id="productTabs"
            role="tablist"
          >
            <li class="nav-item" role="presentation">
              <button
                class="nav-link active"
                id="description-tab"
                data-bs-toggle="tab"
                data-bs-target="#description"
                type="button"
                role="tab"
              >
                <i class="fas fa-file-alt me-2"></i>Description
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                class="nav-link"
                id="specifications-tab"
                data-bs-toggle="tab"
                data-bs-target="#specifications"
                type="button"
                role="tab"
              >
                <i class="fas fa-list me-2"></i>Specifications
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                class="nav-link"
                id="reviews-tab"
                data-bs-toggle="tab"
                data-bs-target="#reviews"
                type="button"
                role="tab"
              >
                <i class="fas fa-star me-2"></i>Reviews
              </button>
            </li>
          </ul>
        </div>
        <div class="card-body">
          <div class="tab-content" id="productTabsContent">
            <!-- Description Tab -->
            <div
              class="tab-pane fade show active"
              id="description"
              role="tabpanel"
            >
              <h5 class="fw-bold mb-3">About this product</h5>
              <p class="mb-4">{{ product.description }}</p>

              <div class="row">
                <div class="col-md-6">
                  <h6 class="fw-semibold mb-2">Key Features:</h6>
                  <ul class="list-unstyled">
                    <li class="mb-2">
                      <i class="fas fa-check text-success me-2"></i>High-quality
                      materials
                    </li>
                    <li class="mb-2">
                      <i class="fas fa-check text-success me-2"></i>Excellent
                      performance
                    </li>
                    <li class="mb-2">
                      <i class="fas fa-check text-success me-2"></i>Easy to use
                    </li>
                    <li class="mb-2">
                      <i class="fas fa-check text-success me-2"></i>Durable
                      construction
                    </li>
                  </ul>
                </div>
                <div class="col-md-6">
                  <h6 class="fw-semibold mb-2">Benefits:</h6>
                  <ul class="list-unstyled">
                    <li class="mb-2">
                      <i class="fas fa-check text-success me-2"></i>Saves time
                      and effort
                    </li>
                    <li class="mb-2">
                      <i class="fas fa-check text-success me-2"></i
                      >Cost-effective solution
                    </li>
                    <li class="mb-2">
                      <i class="fas fa-check text-success me-2"></i>Reliable
                      performance
                    </li>
                    <li class="mb-2">
                      <i class="fas fa-check text-success me-2"></i>Great value
                      for money
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Specifications Tab -->
            <div class="tab-pane fade" id="specifications" role="tabpanel">
              <h5 class="fw-bold mb-3">Product Specifications</h5>
              <div class="table-responsive">
                <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <td class="fw-semibold bg-light">Brand</td>
                      <td>{{ product.brand }}</td>
                    </tr>
                    <tr>
                      <td class="fw-semibold bg-light">Category</td>
                      <td>{{ product.category }}</td>
                    </tr>
                    <tr>
                      <td class="fw-semibold bg-light">Model</td>
                      <td>{{ product.product_name }}</td>
                    </tr>
                    <tr>
                      <td class="fw-semibold bg-light">Warranty</td>
                      <td>1 Year Manufacturer Warranty</td>
                    </tr>
                    <tr>
                      <td class="fw-semibold bg-light">Dimensions</td>
                      <td>Standard size for category</td>
                    </tr>
                    <tr>
                      <td class="fw-semibold bg-light">Weight</td>
                      <td>Varies by product</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Reviews Tab -->
            <div class="tab-pane fade" id="reviews" role="tabpanel">
              <h5 class="fw-bold mb-3">Customer Reviews</h5>
              <div class="review-summary mb-4">
                <div class="row align-items-center">
                  <div class="col-md-4 text-center">
                    <div class="overall-rating">
                      <h2 class="text-primary fw-bold">{{ product.rating }}</h2>
                      <div class="star-rating justify-content-center mb-2">
                        {% for i in range(5) %} {% if i < product.rating|int %}
                        <i class="fas fa-star text-warning"></i>
                        {% else %}
                        <i class="far fa-star text-warning"></i>
                        {% endif %} {% endfor %}
                      </div>
                      <small class="text-muted">Based on 128 reviews</small>
                    </div>
                  </div>
                  <div class="col-md-8">
                    <div class="rating-bars">
                      {% for i in range(5, 0, -1) %}
                      <div class="rating-bar d-flex align-items-center mb-2">
                        <small class="me-2"
                          >{{ i }} <i class="fas fa-star text-warning"></i
                        ></small>
                        <div
                          class="progress flex-grow-1 me-2"
                          style="height: 8px"
                        >
                          <div
                            class="progress-bar bg-warning"
                            style="width: {{ (i * 20) - (5 - product.rating|int) * 10 }}%"
                          ></div>
                        </div>
                        <small class="text-muted"
                          >{{ (128 * (i/5))|int }}</small
                        >
                      </div>
                      {% endfor %}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Sidebar - Similar Products -->
    <div class="col-lg-4">
      <!-- Similar Products -->
      <div class="card border-0 shadow-hover mb-4">
        <div class="card-header bg-transparent border-0 py-3">
          <h5 class="fw-bold mb-0">
            <i class="fas fa-layer-group text-primary me-2"></i>Similar Products
          </h5>
        </div>
        <div class="card-body">
          <div class="similar-products-list">
            {% for similar in similar_products %}
            <div
              class="similar-product-item d-flex align-items-center mb-3 p-3 bg-light rounded-3"
            >
              <div class="product-thumbnail bg-white rounded-2 p-2 me-3">
                <i class="fas fa-box text-muted" style="font-size: 1.5rem"></i>
              </div>
              <div class="flex-grow-1">
                <h6 class="fw-semibold mb-1">{{ similar.product_name }}</h6>
                <div class="d-flex align-items-center mb-1">
                  <div class="star-rating small me-2">
                    {% for i in range(5) %} {% if i < similar.rating %}
                    <i class="fas fa-star text-warning"></i>
                    {% else %}
                    <i class="far fa-star text-warning"></i>
                    {% endif %} {% endfor %}
                  </div>
                  <small class="text-muted">({{ similar.rating }})</small>
                </div>
                <div class="d-flex justify-content-between align-items-center">
                  <span class="fw-bold text-success"
                    >₹{{ "%.2f"|format(similar.price) }}</span
                  >
                  <a
                    href="{{ url_for('product_detail', product_id=similar.product_id) }}"
                    class="btn btn-sm btn-outline-primary"
                  >
                    View
                  </a>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>

      <!-- Quick Stats -->
      <div class="card border-0 shadow-hover">
        <div class="card-header bg-transparent border-0 py-3">
          <h6 class="fw-bold mb-0">
            <i class="fas fa-chart-bar text-info me-2"></i>Product Stats
          </h6>
        </div>
        <div class="card-body">
          <div class="stats-list">
            <div
              class="stat-item d-flex justify-content-between align-items-center mb-3"
            >
              <span class="text-muted">Popularity</span>
              <div class="progress flex-grow-1 mx-3" style="height: 6px">
                <div class="progress-bar bg-success" style="width: 85%"></div>
              </div>
              <span class="fw-semibold">85%</span>
            </div>
            <div
              class="stat-item d-flex justify-content-between align-items-center mb-3"
            >
              <span class="text-muted">Customer Rating</span>
              <div class="progress flex-grow-1 mx-3" style="height: 6px">
                <div
                  class="progress-bar bg-warning"
                  style="width: {{ product.rating * 20 }}%"
                ></div>
              </div>
              <span class="fw-semibold">{{ product.rating }}/5</span>
            </div>
            <div
              class="stat-item d-flex justify-content-between align-items-center mb-3"
            >
              <span class="text-muted">Value for Money</span>
              <div class="progress flex-grow-1 mx-3" style="height: 6px">
                <div class="progress-bar bg-info" style="width: 90%"></div>
              </div>
              <span class="fw-semibold">90%</span>
            </div>
            <div
              class="stat-item d-flex justify-content-between align-items-center"
            >
              <span class="text-muted">Recommendation</span>
              <div class="progress flex-grow-1 mx-3" style="height: 6px">
                <div class="progress-bar bg-primary" style="width: 88%"></div>
              </div>
              <span class="fw-semibold">88%</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %} {% block scripts %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Image thumbnail interaction
    const thumbnails = document.querySelectorAll(".thumbnail");
    const mainImage = document.querySelector(
      ".main-image .product-image-placeholder i"
    );

    thumbnails.forEach((thumb) => {
      thumb.addEventListener("click", function () {
        // Remove active class from all thumbnails
        thumbnails.forEach((t) => t.classList.remove("active"));
        // Add active class to clicked thumbnail
        this.classList.add("active");
        // Change main image (in a real app, this would change the actual image)
        const icon = this.querySelector("i").className;
        mainImage.className = icon + " fa-5x text-muted opacity-25";
      });
    });

    // Add to cart animation
    const addToCartBtn = document.querySelector(".btn-primary");
    addToCartBtn.addEventListener("click", function () {
      const originalText = this.innerHTML;
      this.innerHTML = '<i class="fas fa-check me-2"></i>Added to Cart!';
      this.classList.add("btn-success");
      this.classList.remove("btn-primary");

      setTimeout(() => {
        this.innerHTML = originalText;
        this.classList.remove("btn-success");
        this.classList.add("btn-primary");
      }, 2000);
    });

    // Wishlist button interaction
    const wishlistBtn = document.querySelector(".btn-outline-secondary");
    wishlistBtn.addEventListener("click", function () {
      const icon = this.querySelector("i");
      if (icon.classList.contains("fa-heart")) {
        icon.className = "fas fa-heart text-danger me-1";
        this.classList.add("btn-danger");
        this.classList.remove("btn-outline-secondary");
      } else {
        icon.className = "fas fa-heart me-1";
        this.classList.remove("btn-danger");
        this.classList.add("btn-outline-secondary");
      }
    });

    // Tab content animation
    const tabLinks = document.querySelectorAll('[data-bs-toggle="tab"]');
    tabLinks.forEach((link) => {
      link.addEventListener("shown.bs.tab", function () {
        const target = document.querySelector(
          this.getAttribute("data-bs-target")
        );
        target.classList.add("tab-show");
      });
    });
  });
</script>
{% endblock %}
